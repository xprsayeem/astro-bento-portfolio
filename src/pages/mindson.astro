---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card/index.astro";
---

<!-- Motion animation -->
<script>
  import { stagger, animate, type AnimationSequence } from "motion";
  import { loaderAnimation } from "../lib/constants";

  const cards = document.querySelectorAll(".card");

  const sequence = [
    loaderAnimation,
    [
      cards,
      { y: ["40%", "0%"], opacity: [0, 1] },
      {
        type: "spring",
        at: "-0.1",
        delay: stagger(0.3),
      },
    ],
  ];

  animate(sequence as AnimationSequence);
</script>

<Layout
  title="Minds-On Data Architecture"
  description="Full-stack data platform for youth program management."
  showLoader>
    
  <main class="text-white m-auto p-2 max-w-6xl overflow-visible relative w-full sm:p-4 md:p-6 lg:p-8 space-y-8">
    <!-- Top nav: Back -->
    <nav class="w-full sticky top-0 z-40 mb-3">
      <div class="flex gap-2">
        <button
          type="button"
          onclick="history.back()"
          class="px-3 py-1.5 rounded-lg border border-white/10 bg-white/5 text-sm hover:bg-white/10 active:scale-[0.99] transition"
          aria-label="Go back"
        >
          ‚Üê Back
        </button>
      </div>
    </nav>

    <section class="!h-auto !overflow-visible  space-y-6">
      <!-- Hero Card -->
      <Card title="Data Architecture for Minds-On Youth Organization" rowSpan="lg:row-span-8 md:row-span-6" colSpan="lg:col-span-2">
        <div class="flex flex-col gap-6">
          
          <div class="space-y-2">
            <p class="text-sm text-neutral-300 leading-relaxed mt-2">
              Minds-On is a Whitby-based youth organization providing educational programs, recreational activities, and community events to over 1,000 students annually. I had the opportunity to design and develop a full-stack data platform to replace their disconnected spreadsheets and manual processes.
            </p>

            <p class="text-sm text-neutral-300 leading-relaxed">
              The solution: a 5-base relational architecture built in Airtable with automated registration sync, real-time validation, and integrated reporting workflows. The system handles several complex relationships: students attending multiple programs, programs requiring multiple staff, events involving dozens of vendors, all while remaining accessible to non-technical staff.
            </p>

            <p class="text-sm text-neutral-300 leading-relaxed">
              The platform eliminated manual data entry for 100+ weekly enrollments, reduced administrative communication time by 60%, and enabled real-time visibility into enrollment, attendance, and resource allocation across 20+ programs.
            </p>
          </div>

          <!-- Expandable How it works -->
          <details class="mt-1 cursor-pointer">
            <summary class="font-semibold text-neutral-200 hover:text-blue-400 transition-colors list-none cursor-pointer select-none">
              üîß How it works <span class="text-xs text-neutral-400">(click to expand)</span>
            </summary>
            
            <div class="mt-4 space-y-6 pl-4 border-l-2 border-neutral-700">
              
              <!-- The Problem -->
              <div class="space-y-2">
                <h4 class="text-base font-semibold text-neutral-100">The Problem</h4>
                <p class="text-neutral-300 leading-relaxed">
                  Before this project, Minds-On managed enrollment, attendance, and event logistics using 
                  <strong class="text-white">disconnected google spreadsheets</strong> and manual data entry. This led to 
                  duplicate records, data inconsistencies, and significant administrative overhead. Staff spent hours 
                  each week copying information between systems, and there was no real-time visibility into program capacity or attendance trends.
                </p>
              </div>

              <!-- Data Architecture -->
              <div class="space-y-2">
                <h4 class="text-base font-semibold text-neutral-100">Data Architecture</h4>
                <p class="text-neutral-300 leading-relaxed">
                  I designed a <strong class="text-white">5-base relational architecture</strong> in Airtable:
                </p>
                <ul class="list-disc list-inside text-neutral-300 space-y-1 pl-4 text-sm">
                  <li><strong class="text-blue-300">Students</strong> ‚Äì Core records with personal info, school details, medical/dietary notes, parent/guardian contact information</li>
                  <li><strong class="text-teal-300">Attendance</strong> ‚Äì Junction table linking students to programs and events with check-in/out times and session notes</li>
                  <li><strong class="text-purple-300">Programs</strong> ‚Äì Recurring activities like tutoring, sports nights, movie nights, workshops with capacity, scheduling, and resource tracking</li>
                  <li><strong class="text-orange-300">Staff</strong> ‚Äì Full-time employees, volunteers, student leaders with certifications, availability, and assignments</li>
                  <li><strong class="text-green-300">Events</strong> ‚Äì Large community events with sub-tables for budget tracking, vendor management, sponsor outreach, and marketing</li>
                </ul>
                <p class="text-neutral-300 leading-relaxed mt-2">
                  Record linkage and validation checks ensure data integrity across all bases, eliminating the duplicate records that plagued the previous spreadsheet system.
                </p>
              </div>

              <!-- Automation Layer -->
              <div class="space-y-2">
                <h4 class="text-base font-semibold text-neutral-100">Automation Layer</h4>
                <p class="text-neutral-300 leading-relaxed">
                  Three technologies power the automation:
                </p>
                <ul class="list-disc list-inside text-neutral-300 space-y-1 pl-4 text-sm">
                  <li>
                    <strong class="text-yellow-300">JavaScript + Airtable API</strong> ‚Äì Syncs registration form submissions to the database in real-time, performing data validation, deduplication, and record enrichment. Handles 100+ weekly enrollments with zero manual entry.
                  </li>
                  <li>
                    <strong class="text-blue-300">Python ETL Scripts</strong> ‚Äì Joins attendance and enrollment data across bases to generate reporting dashboards. Calculates metrics like program utilization, attendance rates, and staff hours.
                  </li>
                  <li>
                    <strong class="text-red-300">Zapier Workflows</strong> ‚Äì Automates email notifications, SMS alerts, calendar updates, and status changes. Reduced admin communication time by 60%.
                  </li>
                </ul>
              </div>

              <!-- User Interfaces -->
              <div class="space-y-2">
                <h4 class="text-base font-semibold text-neutral-100">User Interfaces</h4>
                <p class="text-neutral-300 leading-relaxed">
                  The system serves three distinct user groups:
                </p>
                <ul class="list-disc list-inside text-neutral-300 space-y-1 pl-4 text-sm">
                  <li><strong class="text-white">Airtable Forms</strong> ‚Äì Public-facing registration for parents enrolling children in programs</li>
                  <li><strong class="text-white">Airtable Interface</strong> ‚Äì Admin portal for staff to manage attendance, track programs, and coordinate events</li>
                  <li><strong class="text-white">Glide App</strong> ‚Äì Mobile-friendly parent portal for viewing attendance history and program schedules</li>
                </ul>
              </div>

              <!-- Closing -->
              <p class="text-neutral-300 leading-relaxed font-medium border-t border-neutral-700 pt-4">
                The result of all this is a unified data platform where <strong class="text-blue-400">every enrollment, attendance record, and staff assignment flows through validated, connected bases,</strong> giving the team at Minds-On actionable visibility into their operations.
              </p>

            </div>
          </details>

          <!-- Impact Metrics Callout -->
          <section class="rounded-xl bg-gradient-to-br from-blue-950/30 to-purple-950/30 border border-blue-500/20 p-6">
            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
              Impact
            </h3>
            
            <div class="grid gap-4 md:grid-cols-3">
              
              <div class="space-y-2">
                <div class="flex items-start gap-2">
                  <span class="text-xl flex-shrink-0">‚ö°</span>
                  <div>
                    <h4 class="font-semibold text-neutral-100 text-sm">100+ weekly enrollments</h4>
                    <p class="text-xs text-neutral-300 leading-relaxed">
                      Processed automatically with zero manual data entry. Form submissions sync directly to the database.
                    </p>
                  </div>
                </div>
              </div>

              <div class="space-y-2">
                <div class="flex items-start gap-2">
                  <span class="text-xl flex-shrink-0">üë•</span>
                  <div>
                    <h4 class="font-semibold text-neutral-100 text-sm">1,000+ students tracked</h4>
                    <p class="text-xs text-neutral-300 leading-relaxed">
                      Complete enrollment and attendance history across 20+ programs, enabling staff to monitor program capacity and activity.
                    </p>
                  </div>
                </div>
              </div>

              <div class="space-y-2">
                <div class="flex items-start gap-2">
                  <span class="text-xl flex-shrink-0">‚è±Ô∏è</span>
                  <div>
                    <h4 class="font-semibold text-neutral-100 text-sm">60% reduction in admin time</h4>
                    <p class="text-xs text-neutral-300 leading-relaxed">
                      Automated notifications, status updates, and report generation freed staff to focus on programs instead of paperwork.
                    </p>
                  </div>
                </div>
              </div>

            </div>
          </section>

        </div>
      </Card>

      <!-- ERD Diagram Card -->
      <Card rowSpan="lg:row-span-8 md:row-span-6" colSpan="lg:col-span-2">
        <section class="flex flex-col gap-3">
          <h3 class="font-semibold text-neutral-200">Data Model</h3>
          <p class="text-xs text-neutral-400">
            Entity Relationship Diagram showing the 5-base relational architecture. 
            <strong class="text-neutral-300">Attendance</strong> serves as the junction table, linking students to both programs and events. 
            Staff assignments connect to both Programs and Events bases, enabling flexible resource allocation.
          </p>
          
          <div class="rounded-xl bg-white/5 border border-white/10 p-4 overflow-x-auto">
            <img 
              src="/public/mindson-erd.svg" 
              alt="Minds-On Entity Relationship Diagram showing Students, Attendance, Programs, Staff, and Events bases with their relationships"
              class="w-full h-auto min-w-[600px]"
              loading="lazy"
            />
          </div>
        </section>
      </Card>

      <!-- System Architecture Card -->
      <Card rowSpan="lg:row-span-8 md:row-span-6" colSpan="lg:col-span-2">
        <section class="flex flex-col gap-3">
          <h3 class="font-semibold text-neutral-200">System Architecture</h3>
          <p class="text-xs text-neutral-400">
            Full-stack data system across 4 layers: User Interface (Airtable Forms, Admin Interface, Glide App), 
            Application Logic & Automation (JavaScript, Python, Zapier), Data Storage (5 Airtable bases), 
            and Analytics & Reporting (dashboards, reports, automated notifications).
          </p>
          
          <div class="rounded-xl bg-white/5 border border-white/10 p-4 flex justify-center overflow-x-auto">
            <img 
              src="/public/mindson-architecture.svg" 
              alt="Minds-On System Architecture showing 4-layer data platform with user interfaces, automation, storage, and analytics"
              class="h-auto max-w-full md:max-w-2xl"
              loading="lazy"
            />
          </div>

          <!-- Workflow Examples -->
          <div class="grid gap-3 md:grid-cols-3 mt-2">
            <div class="rounded-lg bg-green-950/20 border border-green-500/20 p-3">
              <div class="flex items-center gap-2 mb-1">
                <div class="w-3 h-3 rounded-full bg-green-400"></div>
                <h4 class="text-xs font-semibold text-green-300">Form Submission</h4>
              </div>
              <p class="text-xs text-neutral-400 leading-relaxed">
                Parent submits registration ‚Üí JavaScript validates & deduplicates ‚Üí Record created in Students base ‚Üí Confirmation email sent via Zapier
              </p>
            </div>

            <div class="rounded-lg bg-blue-950/20 border border-blue-500/20 p-3">
              <div class="flex items-center gap-2 mb-1">
                <div class="w-3 h-3 rounded-full bg-blue-400"></div>
                <h4 class="text-xs font-semibold text-blue-300">Staff Marks Attendance</h4>
              </div>
              <p class="text-xs text-neutral-400 leading-relaxed">
                Staff checks in student ‚Üí Attendance record created with timestamp ‚Üí Program capacity updates in real-time ‚Üí Parent notified of check-in
              </p>
            </div>

            <div class="rounded-lg bg-pink-950/20 border border-pink-500/20 p-3">
              <div class="flex items-center gap-2 mb-1">
                <div class="w-3 h-3 rounded-full bg-pink-400"></div>
                <h4 class="text-xs font-semibold text-pink-300">Reports to Leadership</h4>
              </div>
              <p class="text-xs text-neutral-400 leading-relaxed">
                Python extracts attendance data ‚Üí Joins with enrollment records ‚Üí Calculates metrics ‚Üí Dashboard updates ‚Üí Weekly summary emailed to leadership
              </p>
            </div>
          </div>
        </section>
      </Card>

      <!-- Key Features Card -->
      <Card rowSpan="lg:row-span-8 md:row-span-6" colSpan="lg:col-span-2">
        <section class="flex flex-col gap-3">
          <h3 class="font-semibold text-neutral-200">Key Features</h3>
          
          <div class="grid gap-3 md:grid-cols-2">
            
            <div class="rounded-xl bg-white/5 border border-white/10 p-4">
              <div class="flex items-start gap-3">
                <span class="text-2xl">üîÑ</span>
                <div>
                  <h4 class="font-semibold text-neutral-100 text-sm mb-1">Real-time Sync</h4>
                  <p class="text-xs text-neutral-400 leading-relaxed">
                    Registration forms sync instantly to the database via JavaScript automation. No manual copy-paste, no delays, no data entry errors.
                  </p>
                </div>
              </div>
            </div>

            <div class="rounded-xl bg-white/5 border border-white/10 p-4">
              <div class="flex items-start gap-3">
                <span class="text-2xl">‚úÖ</span>
                <div>
                  <h4 class="font-semibold text-neutral-100 text-sm mb-1">Validation & Deduplication</h4>
                  <p class="text-xs text-neutral-400 leading-relaxed">
                    Automated checks catch invalid data and prevent duplicate records. Record linkage ensures referential integrity across all 5 bases.
                  </p>
                </div>
              </div>
            </div>

            <div class="rounded-xl bg-white/5 border border-white/10 p-4">
              <div class="flex items-start gap-3">
                <span class="text-2xl">üìä</span>
                <div>
                  <h4 class="font-semibold text-neutral-100 text-sm mb-1">Automated Reporting</h4>
                  <p class="text-xs text-neutral-400 leading-relaxed">
                    Python scripts join data across bases to generate attendance reports, capacity dashboards, and trend analysis for leadership.
                  </p>
                </div>
              </div>
            </div>

            <div class="rounded-xl bg-white/5 border border-white/10 p-4">
              <div class="flex items-start gap-3">
                <span class="text-2xl">üìß</span>
                <div>
                  <h4 class="font-semibold text-neutral-100 text-sm mb-1">Smart Notifications</h4>
                  <p class="text-xs text-neutral-400 leading-relaxed">
                    Zapier workflows trigger emails, SMS alerts, and calendar invites based on database events; enrollment confirmations, schedule changes, sign-up reminders.
                  </p>
                </div>
              </div>
            </div>

          </div>
        </section>
      </Card>

      <!-- Tech Stack -->
      <div class="mt-2 flex flex-wrap gap-2">
        <span class="rounded-xl bg-white/10 px-3 py-1 text-xs">Airtable</span>
        <span class="rounded-xl bg-white/10 px-3 py-1 text-xs">JavaScript</span>
        <span class="rounded-xl bg-white/10 px-3 py-1 text-xs">Python</span>
        <span class="rounded-xl bg-white/10 px-3 py-1 text-xs">Zapier</span>
        <span class="rounded-xl bg-white/10 px-3 py-1 text-xs">Glide</span>
        <span class="rounded-xl bg-white/10 px-3 py-1 text-xs">Airtable API</span>
      </div>

    </section>
  </main>
</Layout>